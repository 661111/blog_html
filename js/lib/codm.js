var codm={showCodmConsole:function(){document.querySelector(".codm_console").classList.add("show")},hideCodmConsole:function(){document.querySelector(".codm_console").classList.remove("show")}};codm={initialized:!1,config:{jsonUrl:"/data/codm.json",defaultContent:"default"},init:function(){this.initialized||this.loadData(function(){this.bindEvents(),this.renderDynamicElements(),this.showContent(this.config.defaultContent),this.initialized=!0}.bind(this))},loadData:function(n){var t=new XMLHttpRequest;t.open("GET",this.config.jsonUrl,!0),t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(this.data=JSON.parse(t.responseText),"function"==typeof n&&n()):console.error("数据加载失败:",t.statusText))}.bind(this),t.send()},renderDynamicElements:function(){var n=document.getElementById("left");n&&this.data[0].level_up_menu&&this.data[0].level_up_menu.forEach((function(t){var e=document.createElement("div");e.className="console-btn-item",e.id=t.id,e.innerHTML='<a class="level_up" data-action="'+t.onclick.replace("()","")+'"><i class="fas '+(t.icon||"fa-moon")+'"></i></a>',n.appendChild(e)}))},bindEvents:function(){var n=document.querySelector(".codm_console");n.addEventListener("click",(function(t){for(var e=t.target;e!==n;){if(e.matches("[data-action]")){var o=e.getAttribute("data-action");return void("function"==typeof codm[o]&&codm[o]())}e=e.parentNode}}));var t=document.querySelector(".close_up_bottom");t&&t.addEventListener("click",this.hideConsole.bind(this))},showContent:function(n){var t=this.findContent(n);if(t){var e=document.querySelector(".card_info");e&&(e.innerHTML='<div class="card_info_head"><h1 class="info_head_name">'+t.head_name+'</h1></div><div class="card_info_body"><img class="card_info_icon" src="'+t.icon+'" style="width:200px"><div class="card_info_desc"><span>'+t.desc+'</span></div><a class="button codm" href="'+t.link+'">开始使用</a></div>')}},findContent:function(n){return this.data&&this.data[0].level_up_group?this.data[0].level_up_group.find((function(t){return t.head_name.toLowerCase().indexOf(n)>-1})):null}};window.addEventListener?window.addEventListener("load",(function(){codm.init()})):window.attachEvent("onload",(function(){codm.init()}));